{"version":3,"sources":["webpack:///E:/myDemo/mall/mall/components/ah-denglu/denglu.vue","webpack:///E:/myDemo/mall/mall/components/ah-denglu/denglu.vue?6b2e","webpack:///E:/myDemo/mall/mall/components/ah-denglu/denglu.vue?c3de","webpack:///E:/myDemo/mall/mall/components/ah-denglu/denglu.vue?0b76","webpack:///E:/myDemo/mall/mall/components/ah-denglu/denglu.vue?d6e3","webpack:///E:/myDemo/mall/mall/components/ah-denglu/denglu.vue?1d40","webpack:///E:/myDemo/mall/mall/components/ah-denglu/denglu.vue?8d64"],"names":["SESSION_KEY","CODE","data","provider","bannerShow","created","uni","getProvider","service","success","res","session","getStorageSync","code","that","checkSession","fail","removeStorageSync","onBackPress","reLaunch","url","methods","closeBanner","mpGetUserInfo","result","detail","userInfo","login","error","setStorageSync","getUserInfo","getUserInfoError","getUserInfores","console","log"],"mappings":"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","file":"components/ah-denglu/denglu.js","sourcesContent":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n    //保存登陆态\n    const SESSION_KEY = 'denglutai'\n\tconst CODE = \"code\"\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tprovider:'',\n\t\t\t\tbannerShow: false\n\t\t\t}\n\t\t},\n\t\tcreated() {\n\t\t\tuni.getProvider({\n\t\t\t\tservice: 'oauth',\n\t\t\t\tsuccess:(res)=>{\n\t\t\t\t\tthis.provider = res.provider[0]\n\t\t\t\t}\n\t\t\t})\n\t\t\tlet session = uni.getStorageSync(SESSION_KEY)\n\t\t\tlet code = uni.getStorageSync(CODE)\n\t\t\t//如果存在session，已经登陆\n\t\t\tif (code) {\n\t\t\t\t//检测当前用户登录态是否有效\n\t\t\t\tvar that = this\n\t\t\t\tuni.checkSession({\n\t\t\t\t\tsuccess: function() {\n\t\t\t\t\t\tthat.bannerShow = false;\n\t\t\t\t\t},\n\t\t\t\t\tfail: function() {\n\t\t\t\t\t\tuni.removeStorageSync(SESSION_KEY);\n\t\t\t\t\t\tthat.bannerShow = true;\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthis.bannerShow = true;\n\t\t\t}\n\t\t},\n\t\tonBackPress() { //app,h5 按返回键触发\n\t\t\tif (this.bannerShow) {\n\t\t\t\tuni.reLaunch({\n\t\t\t\t\turl: '/pages/index/index'\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\tcloseBanner: function() {\n\t\t\t\tuni.reLaunch({\n\t\t\t\t\turl: '/pages/index/index'\n\t\t\t\t});\n\t\t\t},\n\t\t\tasync mpGetUserInfo(result) {\n\t\t\t\tif(result.detail.userInfo){\n\t\t\t\t\tlet [error,res] = await uni.login({\n\t\t\t\t\t  provider:this.provider,\n\t\t\t\t\t});\n\t\t\t\t\tlet code = res.code\n\t\t\t\t\tuni.setStorageSync(CODE,code)\n\t\t\t\t\tlet [getUserInfoError,getUserInfores] = await uni.getUserInfo({\n\t\t\t\t\t\tprovider: this.provider,\n\t\t\t\t\t})\n\t\t\t\t\tuni.setStorageSync(\"userInfo\",getUserInfores.userInfo)\n\t\t\t\t\tconsole.log(getUserInfores.userInfo);\n\t\t\t\t\tthis.bannerShow = false;\n\t\t\t\t}\n\t\t\t\t// if (result.detail.errMsg === 'getUserInfo:ok') {\n\t\t\t\t// //小程序返回登陆态，code等，后续需要调用自己的api处理\n\t\t\t\t// \tuni.setStorageSync(SESSION_KEY,result.authResult)\n\t\t\t\t// \t//that.bannerShow = false;\n\t\t\t\t// } else {\n\t\t\t\t// \tuni.showModal({\n\t\t\t\t// \t\ttitle: '请授权后查看'\n\t\t\t\t// \t});\n\t\t\t\t// }\n\t\t\t}\n\t\t}\n\t}\n","// extracted by mini-css-extract-plugin","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./denglu.vue?vue&type=template&id=d89f4dc4&\"\nimport script from \"./denglu.vue?vue&type=script&lang=js&\"\nexport * from \"./denglu.vue?vue&type=script&lang=js&\"\nimport style0 from \"./denglu.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX.1.9.7.20190517\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\HBuilderX.1.9.7.20190517\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('d89f4dc4', component.options)\n    } else {\n      api.reload('d89f4dc4', component.options)\n    }\n    module.hot.accept(\"./denglu.vue?vue&type=template&id=d89f4dc4&\", function () {\n      api.rerender('d89f4dc4', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"E:/myDemo/mall/mall/components/ah-denglu/denglu.vue\"\nexport default component.exports","import mod from \"-!D:\\\\HBuilderX.1.9.7.20190517\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX.1.9.7.20190517\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX.1.9.7.20190517\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX.1.9.7.20190517\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./denglu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX.1.9.7.20190517\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX.1.9.7.20190517\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX.1.9.7.20190517\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX.1.9.7.20190517\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./denglu.vue?vue&type=script&lang=js&\"","import mod from \"-!D:\\\\HBuilderX.1.9.7.20190517\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX.1.9.7.20190517\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-1!D:\\\\HBuilderX.1.9.7.20190517\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX.1.9.7.20190517\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX.1.9.7.20190517\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX.1.9.7.20190517\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./denglu.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!D:\\\\HBuilderX.1.9.7.20190517\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX.1.9.7.20190517\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-1!D:\\\\HBuilderX.1.9.7.20190517\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX.1.9.7.20190517\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX.1.9.7.20190517\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX.1.9.7.20190517\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./denglu.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!D:\\\\HBuilderX.1.9.7.20190517\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX.1.9.7.20190517\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!D:\\\\HBuilderX.1.9.7.20190517\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX.1.9.7.20190517\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./denglu.vue?vue&type=template&id=d89f4dc4&\""],"sourceRoot":""}